"use strict";jQuery.fn.selectToUISlider=function(e){function i(e){return e.constructor===Array}function t(e){return"text"==s.tooltipSrc?n[e].text:n[e].value}function a(e){return(e/(n.length-1)*100).toFixed(2)+"%"}var l=jQuery(this),s=jQuery.extend({labels:3,tooltip:!0,tooltipSrc:"text",labelSrc:"value",minRange:0,sliderOptions:null},e),r=function(){var e=[];return l.each(function(){e.push("handle_"+jQuery(this).attr("id"))}),e}(),n=function(){var e=[];return l.eq(0).find("option").each(function(){e.push({value:jQuery(this).attr("value"),text:jQuery(this).text()})}),e}(),d=function(){if(l.eq(0).find("optgroup").size()>0){var e=[];return l.eq(0).find("optgroup").each(function(i){e[i]={},e[i].label=jQuery(this).attr("label"),e[i].options=[],jQuery(this).find("option").each(function(){e[i].options.push({text:jQuery(this).text(),value:jQuery(this).attr("value"),disabled:jQuery(this).attr("disabled"),markers:jQuery(this).data("markers")})})}),e}}(),u={step:1,min:0,orientation:"horizontal",max:n.length-1,range:l.length>1,slide:function(e,i){var a=jQuery(i.handle);if(u.range&&i.values[1]-i.values[0]<=s.minRange-1)return!1;var l=jQuery("#"+a.attr("id").split("handle_")[1]),r=l.find("option").eq(i.value);if("disabled"==r.attr("disabled"))return!1;var n=t(i.value);a.attr("aria-valuetext",n).attr("aria-valuenow",i.value).find(".ui-slider-tooltip .ttContent").text(n),l.val(r.val()),l.trigger("sliderchange",[n]),l.trigger(jQuery.Event("change",{uiSliderEvent:e,uiSliderContext:i}))},values:function(){var e=[];return l.each(function(){e.push(jQuery(this).get(0).selectedIndex)}),e}()};s.sliderOptions=e?jQuery.extend(u,e.sliderOptions):u,l.bind("change keyup click",function(){var e=jQuery(this).get(0).selectedIndex,i=jQuery("#handle_"+jQuery(this).attr("id")),t=i.data("handleNum");i.parents(".ui-slider:eq(0)").slider("values",t,e)});var o=jQuery("<div></div>");l.each(function(e){var i="",a="disabled"==jQuery(this).attr("disabled"),l=jQuery("label[for="+jQuery(this).attr("id")+"]"),n=l.size()>0?"Slider control for "+l.text():"",d=l.attr("id")||l.attr("id","label_"+r[e]).attr("id"),u="ui-slider-handle";a&&(u+=" ui-slider-handle-disabled"),s.tooltip===!1&&(i=' style="display: none;"'),jQuery('<a href="#" tabindex="0" id="'+r[e]+'" class="'+u+'" role="slider" aria-labelledby="'+d+'" aria-valuemin="'+s.sliderOptions.min+'" aria-valuemax="'+s.sliderOptions.max+'" aria-valuenow="'+s.sliderOptions.values[e]+'" aria-valuetext="'+t(s.sliderOptions.values[e])+'" ><span class="screenReaderContext">'+n+'</span><span class="ui-slider-tooltip ui-widget-content ui-corner-all"'+i+'><span class="ttContent"></span><span class="ui-tooltip-pointer-down ui-widget-content"><span class="ui-tooltip-pointer-down-inner"></span></span></span></a>').data("handleNum",e).appendTo(o)});var p;if(d){var c=0;p=o.append('<dl class="ui-slider-scale ui-helper-reset" role="presentation"></dl>').find(".ui-slider-scale:eq(0)"),jQuery(d).each(function(e,i){p.append('<dt style="width: '+(100/d.length).toFixed(2)+"%; left:"+(e/(d.length-1)*100).toFixed(2)+'%"><span>'+this.label+"</span></dt>");var t=this.options;jQuery(this.options).each(function(e,l){var r=c==n.length-1||0===c?'style="display: none;"':"",d="text"==s.labelSrc?t[e].text:t[e].value,u=0===e?'<span style="position:relative"><span class="ui-slider-label-group">'+i.label+"</span></span>":"";l.markers&&l.markers.length>0&&jQuery.each(l.markers,function(e,i){d+='<br/><span class="ui-slider-marker ui-corner-all"><a href="#">'+i+"</a></span>"});var o=jQuery('<dd style="left:'+a(c)+'">'+u+'<span class="ui-slider-label">'+d+'</span><span class="ui-slider-tic ui-widget-content"'+r+"></span></dd>");"disabled"==l.disabled&&(o.find(".ui-slider-label").addClass("ui-slider-label-disabled"),o.find(".ui-slider-tic").addClass("ui-slider-tic-disabled"),o.find(".ui-slider-marker").addClass("ui-slider-marker-disabled")),p.append(o),c++})})}else p=o.append('<ol class="ui-slider-scale ui-helper-reset" role="presentation"></ol>').find(".ui-slider-scale:eq(0)"),jQuery(n).each(function(e){var i=e==n.length-1||0===e?'style="display: none;"':"",t="text"==s.labelSrc?this.text:this.value;p.append('<li style="left:'+a(e)+'"><span class="ui-slider-label">'+t+'</span><span class="ui-slider-tic ui-widget-content"'+i+"></span></li>")});if(s.labels>1&&o.find(".ui-slider-scale li:last span.ui-slider-label, .ui-slider-scale dd:last span.ui-slider-label").addClass("ui-slider-label-show"),s.labels>0)for(var h=Math.max(1,Math.round(n.length/s.labels)),f=0;f<n.length;f+=h)o.find(".ui-slider-scale li:eq("+f+") span.ui-slider-label, .ui-slider-scale dd:eq("+f+") span.ui-slider-label").addClass("ui-slider-label-show");o.find(".ui-slider-scale dt").each(function(e){jQuery(this).css({left:(100/d.length*e).toFixed(2)+"%"})}),o.insertAfter(jQuery(this).eq(this.length-1)).slider(s.sliderOptions).attr("role","application").find(".ui-slider-label").each(function(){jQuery(this).css("marginLeft",-jQuery(this).width()/2)}),o.find(".ui-tooltip-pointer-down-inner").each(function(){var e=jQuery(".ui-tooltip-pointer-down-inner").css("borderTopWidth"),i=jQuery(this).parents(".ui-slider-tooltip").css("backgroundColor");jQuery(this).css("border-top",e+" solid "+i)});var v=o.slider("values");return i(v)?jQuery(v).each(function(e){o.find(".ui-slider-tooltip .ttContent").eq(e).text(t(this))}):o.find(".ui-slider-tooltip .ttContent").eq(0).text(t(v)),this};
